"use strict";(self.webpackChunk_aws_threat_composer=self.webpackChunk_aws_threat_composer||[]).push([[8455],{"./src/components/generic/STRIDESelector/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,l:()=>OPTIONS});var _cloudscape_design_components_form_field__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@cloudscape-design/components/form-field/index.js"),_cloudscape_design_components_multiselect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@cloudscape-design/components/multiselect/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const OPTIONS=[{label:"Spoofing",value:"S"},{label:"Tampering",value:"T"},{label:"Repudiation",value:"R"},{label:"Information disclosure",value:"I"},{label:"Denial of service",value:"D"},{label:"Elevation of privilege",value:"E"}],STRIDESelector=({label,selected,setSelected})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_cloudscape_design_components_form_field__WEBPACK_IMPORTED_MODULE_1__.A,{label,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_cloudscape_design_components_multiselect__WEBPACK_IMPORTED_MODULE_2__.A,{selectedOptions:selected?OPTIONS.filter((x=>selected.includes(x.value))):[],onChange:({detail})=>setSelected(detail.selectedOptions.map((x=>x.value||""))),options:OPTIONS,selectedAriaLabel:"Selected"})});STRIDESelector.displayName="STRIDESelector";const __WEBPACK_DEFAULT_EXPORT__=STRIDESelector;try{STRIDESelector.displayName="STRIDESelector",STRIDESelector.__docgenInfo={description:"",displayName:"STRIDESelector",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"string[]"}},setSelected:{defaultValue:null,description:"",name:"setSelected",required:!0,type:{name:"(value: string[]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/STRIDESelector/index.tsx#STRIDESelector"]={docgenInfo:STRIDESelector.__docgenInfo,name:"STRIDESelector",path:"src/components/generic/STRIDESelector/index.tsx#STRIDESelector"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/mitigations/MitigationLinkView/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _cloudscape_design_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@cloudscape-design/components/space-between/index.js"),_cloudscape_design_components_autosuggest__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@cloudscape-design/components/autosuggest/index.js"),_cloudscape_design_components_expandable_section__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@cloudscape-design/components/expandable-section/index.js"),_cloudscape_design_components_token_group__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@cloudscape-design/components/token-group/index.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const MitigationLinkComponent=({variant,linkedMitigationIds,mitigationList,onAddMitigationLink,onRemoveMitigationLink,children})=>{const[searchValue,setSearchValue]=react__WEBPACK_IMPORTED_MODULE_0__.useState(""),linkedMitigations=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>mitigationList.filter((al=>linkedMitigationIds.includes(al.id)))),[linkedMitigationIds,mitigationList]),filteredMitigations=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{const mitigations=mitigationList.filter((x=>!linkedMitigationIds.includes(x.id)));return searchValue?mitigations.filter((x=>x.content.toLowerCase().indexOf(searchValue.toLowerCase())>=0)):mitigations}),[searchValue,mitigationList,linkedMitigationIds]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_cloudscape_design_components_expandable_section__WEBPACK_IMPORTED_MODULE_2__.A,{variant,headingTagOverride:"container"===variant?"h3":void 0,headerText:`Linked mitigations (${linkedMitigations.length})`,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_cloudscape_design_components__WEBPACK_IMPORTED_MODULE_3__.A,{direction:"vertical",size:"l",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_cloudscape_design_components_autosuggest__WEBPACK_IMPORTED_MODULE_4__.A,{onChange:({detail})=>setSearchValue(detail.value),value:searchValue,options:filteredMitigations.map((x=>({value:x.id,label:x.content}))),onSelect:({detail})=>{onAddMitigationLink(detail.value),setSearchValue("")},filteringType:"manual",enteredTextLabel:value=>`Add new mitigation: "${value}"`,placeholder:"Search mitigation",empty:"No matches found"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:{display:"flex"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_cloudscape_design_components_token_group__WEBPACK_IMPORTED_MODULE_5__.A,{items:linkedMitigations.map((x=>({label:x.content,dismissLabel:`Unlink mitigation ${x.numericId}`}))),onDismiss:({detail:{itemIndex}})=>{onRemoveMitigationLink(linkedMitigations[itemIndex].id)}})})]}),children]})})};MitigationLinkComponent.displayName="MitigationLinkComponent";const __WEBPACK_DEFAULT_EXPORT__=MitigationLinkComponent;try{MitigationLinkView.displayName="MitigationLinkView",MitigationLinkView.__docgenInfo={description:"",displayName:"MitigationLinkView",props:{variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"footer"'},{value:'"container"'},{value:'"stacked"'},{value:'"navigation"'},{value:'"inline"'}]}},linkedMitigationIds:{defaultValue:null,description:"",name:"linkedMitigationIds",required:!0,type:{name:"string[]"}},mitigationList:{defaultValue:null,description:"",name:"mitigationList",required:!0,type:{name:'{ id: string; numericId: number; content: string; displayOrder?: number | undefined; tags?: string[] | undefined; metadata?: ({ key: "Comments"; value: string; } | { key: string; value: string | string[]; } | { ...; } | { ...; } | { ...; })[] | undefined; status?: string | undefined; }[]'}},onAddMitigationLink:{defaultValue:null,description:"",name:"onAddMitigationLink",required:!0,type:{name:"(mitigationId: string) => void"}},onRemoveMitigationLink:{defaultValue:null,description:"",name:"onRemoveMitigationLink",required:!0,type:{name:"(mitigationId: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/mitigations/MitigationLinkView/index.tsx#MitigationLinkView"]={docgenInfo:MitigationLinkView.__docgenInfo,name:"MitigationLinkView",path:"src/components/mitigations/MitigationLinkView/index.tsx#MitigationLinkView"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/threats/MetadataEditor/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _cloudscape_design_components_expandable_section__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/@cloudscape-design/components/expandable-section/index.js"),_cloudscape_design_components_grid__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../node_modules/@cloudscape-design/components/grid/index.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_data_status_threatStatus_json__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/data/status/threatStatus.json"),_styles_expandablePanelHeader__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styles/expandablePanelHeader.ts"),_generic_CommentsEdit__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/generic/CommentsEdit/index.tsx"),_generic_StatusSelector__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/generic/StatusSelector/index.tsx"),_generic_STRIDESelector__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/generic/STRIDESelector/index.tsx"),_PriorityEdit__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/threats/PriorityEdit/index.tsx"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const MetadataEditor=({variant,editingStatement,onEditStatementStatus,onEditMetadata})=>{const[expanded,setExpanded]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),stride=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>editingStatement.metadata?.find((m=>"STRIDE"===m.key))?.value||void 0),[editingStatement.metadata]);return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Y)(_cloudscape_design_components_expandable_section__WEBPACK_IMPORTED_MODULE_8__.A,{headerText:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Y)("span",{css:"default"===variant?_styles_expandablePanelHeader__WEBPACK_IMPORTED_MODULE_2__.A:void 0,children:"Metadata"}),headingTagOverride:"h3",variant,expanded,onChange:({detail})=>setExpanded(detail.expanded),children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.FD)(_cloudscape_design_components_grid__WEBPACK_IMPORTED_MODULE_9__.A,{gridDefinition:[{colspan:{default:12,xs:3}},{colspan:{default:12,xs:3}},{colspan:{default:12,xs:6}},...expanded?[{colspan:{default:12,xs:12}}]:[]],children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Y)(_generic_StatusSelector__WEBPACK_IMPORTED_MODULE_4__.A,{selectedOption:editingStatement.status,setSelectedOption:option=>onEditStatementStatus(editingStatement,option),options:_data_status_threatStatus_json__WEBPACK_IMPORTED_MODULE_1__}),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Y)(_PriorityEdit__WEBPACK_IMPORTED_MODULE_6__.A,{editingStatement,onEditMetadata}),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Y)(_generic_STRIDESelector__WEBPACK_IMPORTED_MODULE_5__.A,{label:"STRIDE",selected:stride,setSelected:selected=>onEditMetadata(editingStatement,"STRIDE",selected)}),expanded&&(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Y)(_generic_CommentsEdit__WEBPACK_IMPORTED_MODULE_3__.A,{entity:editingStatement,onEditEntity:onEditMetadata})]})})};MetadataEditor.displayName="MetadataEditor";const __WEBPACK_DEFAULT_EXPORT__=MetadataEditor;try{MetadataEditor.displayName="MetadataEditor",MetadataEditor.__docgenInfo={description:"",displayName:"MetadataEditor",props:{variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"default"'},{value:'"footer"'},{value:'"container"'},{value:'"stacked"'},{value:'"navigation"'},{value:'"inline"'}]}},editingStatement:{defaultValue:null,description:"",name:"editingStatement",required:!0,type:{name:"{ id: string; numericId: number; displayOrder?: number | undefined; tags?: string[] | undefined; threatSource?: string | undefined; prerequisites?: string | undefined; threatAction?: string | undefined; ... 7 more ...; status?: string | undefined; }"}},onEditStatementStatus:{defaultValue:null,description:"",name:"onEditStatementStatus",required:!0,type:{name:"(statement: { id: string; numericId: number; displayOrder?: number | undefined; tags?: string[] | undefined; threatSource?: string | undefined; prerequisites?: string | undefined; threatAction?: string | undefined; ... 7 more ...; status?: string | undefined; }, status: string) => void"}},onEditMetadata:{defaultValue:null,description:"",name:"onEditMetadata",required:!0,type:{name:"(statement: { id: string; numericId: number; displayOrder?: number | undefined; tags?: string[] | undefined; threatSource?: string | undefined; prerequisites?: string | undefined; threatAction?: string | undefined; ... 7 more ...; status?: string | undefined; }, key: string, value: string | ... 1 more ... | undefine..."}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/threats/MetadataEditor/index.tsx#MetadataEditor"]={docgenInfo:MetadataEditor.__docgenInfo,name:"MetadataEditor",path:"src/components/threats/MetadataEditor/index.tsx#MetadataEditor"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/threats/PriorityEdit/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>threats_PriorityEdit});var react=__webpack_require__("../../node_modules/react/index.js"),form_field=__webpack_require__("../../node_modules/@cloudscape-design/components/form-field/index.js"),components_select=__webpack_require__("../../node_modules/@cloudscape-design/components/select/index.js"),configs=__webpack_require__("./src/configs/index.ts"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const LevelSelector=react.forwardRef((({label,selectedLevel,setSelectedLevel,allowNoValue,placeholder,onFocus,onBlur},ref)=>(0,jsx_runtime.jsx)(form_field.A,{label,children:(0,jsx_runtime.jsx)(components_select.A,{ref,selectedOption:configs.cc.find((x=>x.value===selectedLevel))||null,onChange:({detail})=>{const selected=detail.selectedOption.value;setSelectedLevel?.(selected&&"-"!==selected?selected:void 0)},options:allowNoValue?[{label:"-",value:"-"},...configs.cc]:configs.cc,selectedAriaLabel:"Selected",onFocus,onBlur,expandToViewport:!0,placeholder})}))),generic_LevelSelector=LevelSelector;try{LevelSelector.displayName="LevelSelector",LevelSelector.__docgenInfo={description:"",displayName:"LevelSelector",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},selectedLevel:{defaultValue:null,description:"",name:"selectedLevel",required:!1,type:{name:"string"}},setSelectedLevel:{defaultValue:null,description:"",name:"setSelectedLevel",required:!1,type:{name:"((level: string) => void)"}},allowNoValue:{defaultValue:null,description:"",name:"allowNoValue",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"(() => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(() => void)"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"LegacyRef<Ref>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/LevelSelector/index.tsx#LevelSelector"]={docgenInfo:LevelSelector.__docgenInfo,name:"LevelSelector",path:"src/components/generic/LevelSelector/index.tsx#LevelSelector"})}catch(__react_docgen_typescript_loader_error){}const PriorityEdit=react.forwardRef((({editingStatement,onEditMetadata,showLabel=!0,...props},ref)=>{const priority=(0,react.useMemo)((()=>editingStatement.metadata?.find((m=>"Priority"===m.key))?.value||void 0),[editingStatement.metadata]);return(0,jsx_runtime.jsx)(generic_LevelSelector,{ref,...props,allowNoValue:!0,placeholder:"Select Priority",label:showLabel?"Priority":void 0,selectedLevel:priority,setSelectedLevel:selectedLevel=>onEditMetadata(editingStatement,"Priority",selectedLevel)})})),threats_PriorityEdit=PriorityEdit;try{PriorityEdit.displayName="PriorityEdit",PriorityEdit.__docgenInfo={description:"",displayName:"PriorityEdit",props:{showLabel:{defaultValue:{value:"true"},description:"",name:"showLabel",required:!1,type:{name:"boolean"}},editingStatement:{defaultValue:null,description:"",name:"editingStatement",required:!0,type:{name:"{ id: string; numericId: number; displayOrder?: number | undefined; tags?: string[] | undefined; threatSource?: string | undefined; prerequisites?: string | undefined; threatAction?: string | undefined; ... 7 more ...; status?: string | undefined; }"}},onEditMetadata:{defaultValue:null,description:"",name:"onEditMetadata",required:!0,type:{name:"(statement: { id: string; numericId: number; displayOrder?: number | undefined; tags?: string[] | undefined; threatSource?: string | undefined; prerequisites?: string | undefined; threatAction?: string | undefined; ... 7 more ...; status?: string | undefined; }, key: string, value: string | ... 1 more ... | undefine..."}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"(() => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(() => void)"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"LegacyRef<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/threats/PriorityEdit/index.tsx#PriorityEdit"]={docgenInfo:PriorityEdit.__docgenInfo,name:"PriorityEdit",path:"src/components/threats/PriorityEdit/index.tsx#PriorityEdit"})}catch(__react_docgen_typescript_loader_error){}},"./src/containers/ThreatList/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});__webpack_require__("../../node_modules/react/index.js");var ThreatStatementList=__webpack_require__("./src/components/threats/ThreatStatementList/index.tsx"),WorkspaceContextAggregator=__webpack_require__("./src/contexts/WorkspaceContextAggregator/index.tsx"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const ThreatList=({workspaceId})=>(0,jsx_runtime.jsx)(WorkspaceContextAggregator.A,{workspaceId:workspaceId||null,composerMode:"Full",requiredGlobalSetupContext:!0,children:(0,jsx_runtime.jsx)(ThreatStatementList.A,{})});ThreatList.displayName="ThreatList";const containers_ThreatList=ThreatList;try{ThreatList.displayName="ThreatList",ThreatList.__docgenInfo={description:"",displayName:"ThreatList",props:{workspaceId:{defaultValue:null,description:"",name:"workspaceId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/ThreatList/index.tsx#ThreatList"]={docgenInfo:ThreatList.__docgenInfo,name:"ThreatList",path:"src/containers/ThreatList/index.tsx#ThreatList"})}catch(__react_docgen_typescript_loader_error){}const index_stories={title:"fullMode/ThreatList",component:containers_ThreatList},Default={};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]}}]);