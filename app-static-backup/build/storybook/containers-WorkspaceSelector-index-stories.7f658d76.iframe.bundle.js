"use strict";(self.webpackChunk_aws_threat_composer=self.webpackChunk_aws_threat_composer||[]).push([[2763],{"../../node_modules/@aws-northstar/ui/components/DeleteConfirmationDialog/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),_cloudscape_design_components_space_between__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@cloudscape-design/components/space-between/index.js"),_cloudscape_design_components_modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@cloudscape-design/components/modal/index.js"),_cloudscape_design_components_form_field__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@cloudscape-design/components/form-field/index.js"),_cloudscape_design_components_input__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@cloudscape-design/components/input/index.js"),_cloudscape_design_components_button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@cloudscape-design/components/button/index.js"),_cloudscape_design_components_box__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@cloudscape-design/components/box/index.js");const __WEBPACK_DEFAULT_EXPORT__=({visible=!1,onDeleteClicked,onCancelClicked,loading=!1,enabled=!0,title,children,deleteButtonText,...props})=>{const[confirmation,setConfirmation]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[isMatched,setIsMatched]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("confirmation"===props.variant),confirmationText="confirmation"!==props.variant&&props.confirmationText||"delete",handleDelete=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((()=>{setConfirmation(""),onDeleteClicked?.()}),[onDeleteClicked]),handleCancel=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((()=>{setConfirmation(""),onCancelClicked?.()}),[onCancelClicked]),actions=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_cloudscape_design_components_box__WEBPACK_IMPORTED_MODULE_2__.A,{float:"right",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_cloudscape_design_components_space_between__WEBPACK_IMPORTED_MODULE_3__.A,{direction:"horizontal",size:"xs",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_cloudscape_design_components_button__WEBPACK_IMPORTED_MODULE_4__.A,{ariaLabel:"close",onClick:handleCancel,children:"Cancel"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_cloudscape_design_components_button__WEBPACK_IMPORTED_MODULE_4__.A,{ariaLabel:"delete",variant:"primary",disabled:!enabled||!isMatched||loading,loading,onClick:handleDelete,children:deleteButtonText||"Delete"})]})})),[deleteButtonText,handleCancel,handleDelete,loading,isMatched,enabled]);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setIsMatched("confirmation"===props.variant||confirmationText===confirmation)}),[setIsMatched,confirmation,confirmationText,props.variant]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_cloudscape_design_components_modal__WEBPACK_IMPORTED_MODULE_5__.A,{visible,header:title,footer:actions,onDismiss:handleCancel,...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_cloudscape_design_components_space_between__WEBPACK_IMPORTED_MODULE_3__.A,{direction:"vertical",size:"s",children:[children,"confirmation"!==props.variant&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_cloudscape_design_components_form_field__WEBPACK_IMPORTED_MODULE_6__.A,{label:props.label||(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:["To confirm deletion, type ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i",{children:"delete"})," below"]}),controlId:"confirmation",constraintText:props.hintText,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_cloudscape_design_components_input__WEBPACK_IMPORTED_MODULE_7__.A,{type:"text",placeholder:props.placeholderText||confirmationText,value:confirmation,onChange:({detail})=>setConfirmation(detail.value)})})]})})}},"../../node_modules/@cloudscape-design/components/form-field/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>FormField});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/tslib/tslib.es6.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_cloudscape_design_component_toolkit_internal_analytics_metadata__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@cloudscape-design/component-toolkit/internal/analytics-metadata/attributes.js"),_internal_base_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@cloudscape-design/components/internal/base-component/index.js"),_internal_hooks_use_base_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@cloudscape-design/components/internal/hooks/use-base-component/index.js"),_internal_utils_apply_display_name__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@cloudscape-design/components/internal/utils/apply-display-name.js"),_internal__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@cloudscape-design/components/form-field/internal.js"),_analytics_metadata_styles_css_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@cloudscape-design/components/form-field/analytics-metadata/styles.css.js");function FormField(_a){var{stretch=!1}=_a,props=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Tt)(_a,["stretch"]);const analyticsMetadata=(0,_internal_base_component__WEBPACK_IMPORTED_MODULE_1__.GB)(props),baseComponentProps=(0,_internal_hooks_use_base_component__WEBPACK_IMPORTED_MODULE_3__.A)("FormField",{props:{stretch},metadata:{hasInstanceIdentifier:Boolean(null==analyticsMetadata?void 0:analyticsMetadata.instanceIdentifier)}},analyticsMetadata);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal__WEBPACK_IMPORTED_MODULE_4__.Ay,Object.assign({stretch},props,{__hideLabel:!1,__analyticsMetadata:analyticsMetadata},baseComponentProps,(0,_cloudscape_design_component_toolkit_internal_analytics_metadata__WEBPACK_IMPORTED_MODULE_5__.MV)({component:{name:"awsui.FormField",label:`.${_analytics_metadata_styles_css_js__WEBPACK_IMPORTED_MODULE_6__.A.label}`}})))}(0,_internal_utils_apply_display_name__WEBPACK_IMPORTED_MODULE_7__.o)(FormField,"FormField")},"../../node_modules/@cloudscape-design/components/input/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/tslib/tslib.es6.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/clsx/dist/clsx.m.js"),_internal_base_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@cloudscape-design/components/internal/base-component/index.js"),_internal_hooks_use_base_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@cloudscape-design/components/internal/hooks/use-base-component/index.js"),_internal_utils_apply_display_name__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@cloudscape-design/components/internal/utils/apply-display-name.js"),_internal__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@cloudscape-design/components/input/internal.js"),_styles_css_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@cloudscape-design/components/input/styles.css.js");const Input=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((_a,ref)=>{var{value,type="text",step,inputMode,autoComplete=!0,spellcheck,disabled,readOnly,disableBrowserAutocorrect,onKeyDown,onKeyUp,onChange,onBlur,onFocus,ariaRequired,name,placeholder,autoFocus,ariaLabel,ariaLabelledby,ariaDescribedby,invalid,warning,controlId,clearAriaLabel}=_a,rest=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Tt)(_a,["value","type","step","inputMode","autoComplete","spellcheck","disabled","readOnly","disableBrowserAutocorrect","onKeyDown","onKeyUp","onChange","onBlur","onFocus","ariaRequired","name","placeholder","autoFocus","ariaLabel","ariaLabelledby","ariaDescribedby","invalid","warning","controlId","clearAriaLabel"]);const baseComponentProps=(0,_internal_hooks_use_base_component__WEBPACK_IMPORTED_MODULE_3__.A)("Input",{props:{autoComplete,autoFocus,disableBrowserAutocorrect,inputMode,readOnly,spellcheck,type}}),baseProps=(0,_internal_base_component__WEBPACK_IMPORTED_MODULE_1__.CU)(rest),inputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref,(()=>({focus(...args){var _a;null===(_a=inputRef.current)||void 0===_a||_a.focus(...args)},select(){var _a;null===(_a=inputRef.current)||void 0===_a||_a.select()}})),[inputRef]),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal__WEBPACK_IMPORTED_MODULE_4__.A,Object.assign({ref:inputRef},Object.assign(Object.assign(Object.assign({},baseProps),baseComponentProps),{autoComplete,ariaLabel,ariaRequired,autoFocus,disabled,disableBrowserAutocorrect,name,onKeyDown,onKeyUp,onChange,onBlur,onFocus,placeholder,readOnly,type,step,inputMode,spellcheck,value,ariaDescribedby,ariaLabelledby,invalid,warning,controlId,clearAriaLabel}),{className:(0,clsx__WEBPACK_IMPORTED_MODULE_5__.A)(_styles_css_js__WEBPACK_IMPORTED_MODULE_6__.A.root,baseProps.className),__inheritFormFieldProps:!0}))}));(0,_internal_utils_apply_display_name__WEBPACK_IMPORTED_MODULE_7__.o)(Input,"Input");const __WEBPACK_DEFAULT_EXPORT__=Input},"./src/components/generic/FileUpload/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>generic_FileUpload});var components_button=__webpack_require__("../../node_modules/@cloudscape-design/components/button/index.js"),form_field=__webpack_require__("../../node_modules/@cloudscape-design/components/form-field/index.js"),space_between=__webpack_require__("../../node_modules/@cloudscape-design/components/space-between/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),status_indicator=__webpack_require__("../../node_modules/@cloudscape-design/components/status-indicator/index.js"),text_content=__webpack_require__("../../node_modules/@cloudscape-design/components/text-content/index.js");const utils_getDisplayLastModified=lastModified=>`Last modified: ${new Date(lastModified).toLocaleString()}`,utils_getDisplaySize=size=>{if(!size)return;const i=Math.floor(Math.log(size)/Math.log(1e3));return`${parseFloat((size/Math.pow(1e3,i)).toFixed(2))} ${["bytes","KB","MB","GB"][i]}`};var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const FileTokenLabel=({name,size,lastModified})=>(0,jsx_runtime.jsxs)(space_between.A,{direction:"horizontal",size:"xs",children:[(0,jsx_runtime.jsx)(status_indicator.A,{type:"success"}),(0,jsx_runtime.jsx)(text_content.A,{children:(0,jsx_runtime.jsxs)(space_between.A,{direction:"vertical",size:"xxxs",children:[(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)("b",{children:name})},"name"),(0,jsx_runtime.jsxs)("span",{children:["Size: ",utils_getDisplaySize(size)]},"size"),lastModified&&(0,jsx_runtime.jsx)("span",{children:utils_getDisplayLastModified(lastModified)},"lastModified")]})})]});FileTokenLabel.displayName="FileTokenLabel";const components_FileTokenLabel=FileTokenLabel;try{FileTokenLabel.displayName="FileTokenLabel",FileTokenLabel.__docgenInfo={description:"",displayName:"FileTokenLabel",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"number"}},lastModified:{defaultValue:null,description:"",name:"lastModified",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/FileUpload/components/FileTokenLabel/index.tsx#FileTokenLabel"]={docgenInfo:FileTokenLabel.__docgenInfo,name:"FileTokenLabel",path:"src/components/generic/FileUpload/components/FileTokenLabel/index.tsx#FileTokenLabel"})}catch(__react_docgen_typescript_loader_error){}const FileUpload=({controlId,label,description,constraintText,secondaryControl,info,buttonText="Choose file",name,accept,files,sizeLimit,onChange,...props})=>{const inputElement=(0,react.useRef)(null),[errorText,setErrorText]=(0,react.useState)(props.errorText);(0,react.useEffect)((()=>{setErrorText(props.errorText)}),[props.errorText]);const footer=(0,react.useMemo)((()=>files&&0!==files.length?(0,jsx_runtime.jsx)(components_FileTokenLabel,{name:files[0].name,lastModified:files[0].lastModified,size:files[0].size}):null),[files]),handleFileSelectionButtonClick=(0,react.useCallback)((()=>{inputElement.current?.click()}),[]),handleFileSelectionChange=(0,react.useCallback)((event=>{const newFiles=[];if(setErrorText(void 0),event.target.files){const targetFiles=event.target.files,len=targetFiles.length;for(let i=0;i<len;i++){const file=targetFiles.item(i);if(file){if(sizeLimit&&file.size>sizeLimit){setErrorText(`File ${file.name} exceeds maximum file size limit: ${utils_getDisplaySize(sizeLimit)}`);break}newFiles.push(file)}}}onChange?.(newFiles)}),[files,onChange]);return(0,jsx_runtime.jsxs)(space_between.A,{direction:"vertical",size:"m",children:[(0,jsx_runtime.jsxs)(form_field.A,{...props,label,info,description,constraintText,secondaryControl,errorText,children:[(0,jsx_runtime.jsx)("input",{ref:inputElement,name,style:{display:"none"},type:"file",accept,onChange:handleFileSelectionChange}),(0,jsx_runtime.jsx)(components_button.A,{iconName:"upload",onClick:handleFileSelectionButtonClick,children:buttonText})]}),footer]})};FileUpload.displayName="FileUpload";const generic_FileUpload=FileUpload;try{FileUpload.displayName="FileUpload",FileUpload.__docgenInfo={description:"",displayName:"FileUpload",props:{accept:{defaultValue:null,description:"",name:"accept",required:!1,type:{name:"string"}},sizeLimit:{defaultValue:null,description:"",name:"sizeLimit",required:!1,type:{name:"number"}},buttonText:{defaultValue:{value:"Choose file"},description:"",name:"buttonText",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((files: File[]) => void)"}},files:{defaultValue:null,description:"",name:"files",required:!1,type:{name:"File[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/FileUpload/index.tsx#FileUpload"]={docgenInfo:FileUpload.__docgenInfo,name:"FileUpload",path:"src/components/generic/FileUpload/index.tsx#FileUpload"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/generic/Input/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _cloudscape_design_components_form_field__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@cloudscape-design/components/form-field/index.js"),_cloudscape_design_components_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@cloudscape-design/components/input/index.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_hooks_useContentValidation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/hooks/useContentValidation/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const Input=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((({value,onChange,validateData,...props},ref)=>{const{tempValue,errorText,handleChange}=(0,_hooks_useContentValidation__WEBPACK_IMPORTED_MODULE_1__.A)(value,onChange,validateData);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_cloudscape_design_components_form_field__WEBPACK_IMPORTED_MODULE_3__.A,{...props,errorText,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_cloudscape_design_components_input__WEBPACK_IMPORTED_MODULE_4__.A,{...props,ref,value:tempValue,onChange:event=>handleChange(event)})})})),__WEBPACK_DEFAULT_EXPORT__=Input;try{Input.displayName="Input",Input.__docgenInfo={description:"",displayName:"Input",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"LegacyRef<any>"}},validateData:{defaultValue:null,description:"",name:"validateData",required:!1,type:{name:"((newValue: string) => ZodSafeParseResult<string>)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/generic/Input/index.tsx#Input"]={docgenInfo:Input.__docgenInfo,name:"Input",path:"src/components/generic/Input/index.tsx#Input"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/workspaces/WorkspaceSelector/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>workspaces_WorkspaceSelector});var DeleteConfirmationDialog=__webpack_require__("../../node_modules/@aws-northstar/ui/components/DeleteConfirmationDialog/index.js"),components_alert=__webpack_require__("../../node_modules/@cloudscape-design/components/alert/index.js"),components_button=__webpack_require__("../../node_modules/@cloudscape-design/components/button/index.js"),button_dropdown=__webpack_require__("../../node_modules/@cloudscape-design/components/button-dropdown/index.js"),components_select=__webpack_require__("../../node_modules/@cloudscape-design/components/select/index.js"),space_between=__webpack_require__("../../node_modules/@cloudscape-design/components/space-between/index.js"),emotion_react_browser_esm=__webpack_require__("../../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),react=__webpack_require__("../../node_modules/react/index.js"),configs=__webpack_require__("./src/configs/index.ts"),constants=__webpack_require__("./src/configs/constants.ts"),GlobalSetupContext=__webpack_require__("./src/contexts/GlobalSetupContext/index.tsx"),WorkspaceExamplesContext=__webpack_require__("./src/contexts/WorkspaceExamplesContext/index.tsx"),WorkspacesContext=__webpack_require__("./src/contexts/WorkspacesContext/index.tsx"),contexts=__webpack_require__("./src/contexts/index.ts"),CrossWorkspaceContext=__webpack_require__("./src/contexts/CrossWorkspaceContext/index.tsx"),useExportImport=__webpack_require__("./src/hooks/useExportImport/index.ts");const hooks_useCloneWorkspace=()=>{const{addWorkspace,switchWorkspace}=(0,contexts.Hd)(),{getWorkspaceData}=(0,useExportImport.Ay)(),{cloneWorkspaceData}=(0,CrossWorkspaceContext.W)();return(0,react.useCallback)((async newWorkspaceName=>{const newWorkspace=await addWorkspace(newWorkspaceName),data=await getWorkspaceData();await cloneWorkspaceData(newWorkspace.id,data),switchWorkspace(newWorkspace)}),[addWorkspace,cloneWorkspaceData])};var useRemoveData=__webpack_require__("./src/hooks/useRemoveData/index.ts"),getMobileMediaQuery=__webpack_require__("./src/utils/getMobileMediaQuery/index.tsx"),isWorkspaceExample=__webpack_require__("./src/utils/isWorkspaceExample/index.ts"),icon=__webpack_require__("../../node_modules/@cloudscape-design/components/icon/index.js"),toggle=__webpack_require__("../../node_modules/@cloudscape-design/components/toggle/index.js"),global_styles=__webpack_require__("../../node_modules/@cloudscape-design/global-styles/index.js"),ThemeProvider=__webpack_require__("./src/components/generic/ThemeProvider/index.tsx"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("../../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const styles={svg:(0,emotion_react_browser_esm.AH)({color:"grey !important",fill:"grey !important"})},ThemeToggle=()=>{const{theme,setTheme}=(0,ThemeProvider.wR)();return(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(space_between.A,{direction:"horizontal",size:"xs",children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(toggle.A,{onChange:({detail})=>setTheme(detail.checked?global_styles.Kt.Dark:global_styles.Kt.Light),checked:theme===global_styles.Kt.Dark}),(0,emotion_react_jsx_runtime_browser_esm.Y)(icon.A,{svg:(0,emotion_react_jsx_runtime_browser_esm.Y)("svg",{focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24",css:styles.svg,children:(0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"})})})]})})};ThemeToggle.displayName="ThemeToggle";const generic_ThemeToggle=ThemeToggle;var box=__webpack_require__("../../node_modules/@cloudscape-design/components/box/index.js"),form_field=__webpack_require__("../../node_modules/@cloudscape-design/components/form-field/index.js"),header=__webpack_require__("../../node_modules/@cloudscape-design/components/header/index.js"),modal=__webpack_require__("../../node_modules/@cloudscape-design/components/modal/index.js"),customTypes=__webpack_require__("./src/customTypes/index.ts"),Input=__webpack_require__("./src/components/generic/Input/index.tsx"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const BUTTON_LABEL={add:"Add",update:"Update",clone:"Clone"},HEADER_TEXT={add:"Add new workspace",update:"Update workspace",clone:"Clone workspace"},EditWorkspace=({visible,setVisible,onConfirm,editMode="add",workspaceList,exampleWorkspaceList,currentWorkspace,...props})=>{const inputRef=(0,react.useRef)(),[value,setValue]=(0,react.useState)(props.value||""),[errorText,setErrorText]=(0,react.useState)("");(0,react.useEffect)((()=>{setErrorText("")}),[value]);const handleConfirm=(0,react.useCallback)((async()=>{setErrorText(""),workspaceList.find((x=>x.name===value&&(!currentWorkspace||currentWorkspace.id!==x.id)))?setErrorText("A workspace already exists with that name"):exampleWorkspaceList.find((x=>x.name===value))?setErrorText("A workspace example already exists with that name"):(await onConfirm(value),setVisible(!1))}),[onConfirm,value,workspaceList,exampleWorkspaceList,currentWorkspace]);(0,react.useEffect)((()=>{inputRef.current?.focus()}),[inputRef.current]);const footer=(0,react.useMemo)((()=>(0,jsx_runtime.jsx)(box.A,{float:"right",children:(0,jsx_runtime.jsxs)(space_between.A,{direction:"horizontal",size:"xs",children:[(0,jsx_runtime.jsx)(components_button.A,{variant:"link",onClick:()=>setVisible(!1),children:"Cancel"}),(0,jsx_runtime.jsx)(components_button.A,{variant:"primary",disabled:value.length<3,onClick:handleConfirm,children:BUTTON_LABEL[editMode]||"Add"})]})})),[setVisible,handleConfirm,value,editMode]);return(0,jsx_runtime.jsx)(modal.A,{header:(0,jsx_runtime.jsx)(header.A,{children:HEADER_TEXT[editMode]||"Add"}),visible,footer,onDismiss:()=>setVisible(!1),children:(0,jsx_runtime.jsx)(space_between.A,{direction:"vertical",size:"m",children:(0,jsx_runtime.jsx)(form_field.A,{label:"New workspace name",errorText,children:(0,jsx_runtime.jsx)(Input.A,{ref:inputRef,value,onChange:({detail})=>setValue(detail.value),validateData:customTypes.x6.shape.name.safeParse})})})})};EditWorkspace.displayName="EditWorkspace";const workspaces_EditWorkspace=EditWorkspace;try{EditWorkspace.displayName="EditWorkspace",EditWorkspace.__docgenInfo={description:"",displayName:"EditWorkspace",props:{visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},setVisible:{defaultValue:null,description:"",name:"setVisible",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"(workspace: string) => Promise<void>"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},editMode:{defaultValue:{value:"add"},description:"",name:"editMode",required:!1,type:{name:"enum",value:[{value:'"add"'},{value:'"update"'},{value:'"clone"'}]}},currentWorkspace:{defaultValue:null,description:"",name:"currentWorkspace",required:!1,type:{name:'{ id: string; name: string; storageType?: "LocalState" | "LocalStorage"; metadata?: Record<string, never>; } | undefined'}},workspaceList:{defaultValue:null,description:"",name:"workspaceList",required:!0,type:{name:'{ id: string; name: string; storageType?: "LocalState" | "LocalStorage" | undefined; metadata?: Record<string, never> | undefined; }[]'}},exampleWorkspaceList:{defaultValue:null,description:"",name:"exampleWorkspaceList",required:!0,type:{name:'{ id: string; name: string; storageType?: "LocalState" | "LocalStorage" | undefined; metadata?: Record<string, never> | undefined; }[]'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/workspaces/EditWorkspace/index.tsx#EditWorkspace"]={docgenInfo:EditWorkspace.__docgenInfo,name:"EditWorkspace",path:"src/components/workspaces/EditWorkspace/index.tsx#EditWorkspace"})}catch(__react_docgen_typescript_loader_error){}var progress_bar=__webpack_require__("../../node_modules/@cloudscape-design/components/progress-bar/index.js"),text_content=__webpack_require__("../../node_modules/@cloudscape-design/components/text-content/index.js"),FileUpload=__webpack_require__("./src/components/generic/FileUpload/index.tsx");const FileImport=({composerMode,visible,setVisible,onImport,onExport,onPreview,onPreviewClose})=>{const[selectedFiles,setSelectedFiles]=(0,react.useState)([]),[data,setData]=(0,react.useState)(),[error,setError]=(0,react.useState)(),[loading,setLoading]=(0,react.useState)(!1),[loadingPercentage,setLoadingPercentage]=(0,react.useState)(0),{parseImportedData}=(0,useExportImport.Ay)(),handleImport=(0,react.useCallback)((files=>{if(setError(""),setData(void 0),setLoading(!0),files.length>0){const file=files[0],reader=new FileReader;reader.addEventListener("load",(event=>{const result=event.target?.result;setError("");try{const importedData=parseImportedData(JSON.parse(result));setData(importedData)}catch(e){setError(e.message)}finally{setLoading(!1)}})),reader.addEventListener("progress",(event=>{if(event.loaded&&event.total){const percent=event.loaded/event.total*100;setLoadingPercentage(percent)}})),reader.readAsText(file)}}),[]),handleConfirmImport=(0,react.useCallback)((()=>{data&&onImport(data),setSelectedFiles([]),setVisible(!1),onPreviewClose?.()}),[onImport,data,onPreviewClose]);(0,react.useEffect)((()=>{selectedFiles&&selectedFiles.length>0&&handleImport(selectedFiles)}),[selectedFiles]);const handlePreview=(0,react.useCallback)((()=>{data&&onPreview?.(data)}),[data]),footer=(0,react.useMemo)((()=>(0,jsx_runtime.jsx)(box.A,{float:"right",children:(0,jsx_runtime.jsxs)(space_between.A,{direction:"horizontal",size:"xs",children:[(0,jsx_runtime.jsx)(components_button.A,{variant:"link",onClick:()=>{setVisible(!1),onPreviewClose?.()},children:"Cancel"}),onPreview&&(0,jsx_runtime.jsx)(components_button.A,{onClick:handlePreview,disabled:!data,children:"Preview"}),(0,jsx_runtime.jsx)(components_button.A,{variant:"primary",disabled:!data,onClick:()=>handleConfirmImport(),children:"Import"})]})})),[setVisible,handleConfirmImport,onPreview,onPreviewClose]);return(0,jsx_runtime.jsx)(modal.A,{visible,footer,onDismiss:()=>{setVisible(!1),onPreviewClose?.()},children:(0,jsx_runtime.jsxs)(space_between.A,{direction:"vertical",size:"m",children:[(0,jsx_runtime.jsx)(components_alert.A,{action:(0,jsx_runtime.jsx)(components_button.A,{onClick:()=>onExport(),children:"Export data"}),statusIconAriaLabel:"Warning",type:"warning",children:(0,jsx_runtime.jsxs)(text_content.A,{children:["Importing data will override all the data in current workspace. This action cannot be undone.",(0,jsx_runtime.jsx)("br",{}),"You can export the data to a json file as backup or create a new ",(0,jsx_runtime.jsx)("b",{children:"workspace"}),"."]})},"override-warning"),(0,jsx_runtime.jsx)(components_alert.A,{statusIconAriaLabel:"Warning",type:"warning",children:(0,jsx_runtime.jsx)(text_content.A,{children:"Only import content from trusted sources."})},"content-warning"),(0,jsx_runtime.jsx)(FileUpload.A,{accept:"application/json",files:selectedFiles,onChange:setSelectedFiles},"fileUpload"),loading&&(0,jsx_runtime.jsx)(progress_bar.A,{value:loadingPercentage,label:"Loading file"},"progress-bar"),error&&(0,jsx_runtime.jsx)(components_alert.A,{statusIconAriaLabel:"Error",type:"error",children:error},"error"),!onPreview&&"Full"!==composerMode&&data&&data.threats&&data.threats.length>0&&(0,jsx_runtime.jsxs)(components_alert.A,{statusIconAriaLabel:"Info",type:"info",children:[data.threats.length," threat statement loaded"]},"info")]})})};FileImport.displayName="FileImport";const workspaces_FileImport=FileImport;try{FileImport.displayName="FileImport",FileImport.__docgenInfo={description:"",displayName:"FileImport",props:{composerMode:{defaultValue:null,description:"",name:"composerMode",required:!0,type:{name:"string"}},visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},setVisible:{defaultValue:null,description:"",name:"setVisible",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}},onImport:{defaultValue:null,description:"",name:"onImport",required:!0,type:{name:'(data: { schema: number; workspace?: { id: string; name: string; storageType?: "LocalState" | "LocalStorage" | undefined; metadata?: Record<string, never> | undefined; } | undefined; ... 8 more ...; brainstorm?: { ...; } | undefined; }) => void'}},onExport:{defaultValue:null,description:"",name:"onExport",required:!0,type:{name:"() => void"}},onPreview:{defaultValue:null,description:"",name:"onPreview",required:!1,type:{name:'((data: { schema: number; workspace?: { id: string; name: string; storageType?: "LocalState" | "LocalStorage"; metadata?: Record<string, never>; } | undefined; ... 8 more ...; brainstorm?: { ...; } | undefined; }) => void) | undefined'}},onPreviewClose:{defaultValue:null,description:"",name:"onPreviewClose",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/workspaces/FileImport/index.tsx#FileImport"]={docgenInfo:FileImport.__docgenInfo,name:"FileImport",path:"src/components/workspaces/FileImport/index.tsx#FileImport"})}catch(__react_docgen_typescript_loader_error){}const WorkspaceSelector_styles={themeToggle:(0,emotion_react_browser_esm.AH)({height:"100%",display:"flex",alignItems:"center",[(0,getMobileMediaQuery.A)()]:{display:"none"}})},WorkspaceSelector=({embededMode=!0,children,enabledExportAll,enabledExportFiltered,enabledRemoveAll,filteredThreats,singletonMode=!1,singletonPrimaryActionButtonConfig,onPreview,onPreviewClose,onImported})=>{const[addWorkspaceModalVisible,setAddWorkspaceModalVisible]=(0,react.useState)(!1),[editWorkspaceModalVisible,setEditWorkspaceModalVisible]=(0,react.useState)(!1),[cloneWorkspaceModalVisible,setCloneWorkspaceModalVisible]=(0,react.useState)(!1),[removeDataModalVisible,setRemoveDataModalVisible]=(0,react.useState)(!1),[removeWorkspaceModalVisible,setRemoveWorkspaceModalVisible]=(0,react.useState)(!1),[isRemovingWorkspace,setIsRemovingWorkspace]=(0,react.useState)(!1),{workspaceExamples}=(0,WorkspaceExamplesContext.j)(),{importData,exportAll,exportSelectedThreats,getWorkspaceData}=(0,useExportImport.Ay)(),{removeData,deleteWorkspace}=(0,useRemoveData.A)(),{appMode,composerMode,fileImportModalVisible,setFileImportModalVisible}=(0,GlobalSetupContext.$)(),{currentWorkspace,workspaceList,addWorkspace,renameWorkspace,switchWorkspace}=(0,WorkspacesContext.Hd)(),cloneWorkspace=hooks_useCloneWorkspace(),workspacesOptions=(0,react.useMemo)((()=>{const options=[{label:constants.L7,value:constants.AX},{label:constants.XP,options:workspaceExamples.map((we=>({label:we.name,value:we.id})))}];return workspaceList&&workspaceList.length>0&&options.push({label:"Workspaces",options:workspaceList.map((w=>({label:w.name,value:w.id})))}),options}),[workspaceList]),handleSelectWorkspace=(0,react.useCallback)((({detail})=>{const selectedItem=detail.selectedOption;selectedItem.value===constants.AX?switchWorkspace(null):selectedItem.value&&selectedItem.label&&switchWorkspace(selectedItem.value)}),[switchWorkspace]),handleSingletonPrimaryButtonClick=(0,react.useCallback)((()=>{if(singletonPrimaryActionButtonConfig){const data=getWorkspaceData();singletonPrimaryActionButtonConfig.onClick?.(data),singletonPrimaryActionButtonConfig.eventName&&window.threatcomposer.dispatchEvent(new CustomEvent(singletonPrimaryActionButtonConfig.eventName,{detail:data}))}else exportAll()}),[singletonPrimaryActionButtonConfig,getWorkspaceData,exportAll]),handleMoreActions=(0,react.useCallback)((async({detail})=>{switch(detail.id){case"add":setAddWorkspaceModalVisible(!0);break;case"import":setFileImportModalVisible(!0);break;case"clone":setCloneWorkspaceModalVisible(!0);break;case"exportAll":exportAll();break;case"exportFilteredList":exportSelectedThreats(filteredThreats||[]);break;case"removeAll":setRemoveDataModalVisible(!0);break;case"delete":currentWorkspace&&setRemoveWorkspaceModalVisible(!0);break;case"renameWorkspace":setEditWorkspaceModalVisible(!0);break;default:console.log("Unknown action",detail.id)}}),[setFileImportModalVisible,exportAll,exportSelectedThreats,filteredThreats,deleteWorkspace,currentWorkspace,setRemoveDataModalVisible,setRemoveWorkspaceModalVisible,setAddWorkspaceModalVisible,setCloneWorkspaceModalVisible,setEditWorkspaceModalVisible,handleSingletonPrimaryButtonClick]),handleRemoveData=(0,react.useCallback)((async()=>{try{await(removeData?.())}catch(e){console.log("Error in removing data from workspace",e)}finally{setRemoveDataModalVisible(!1)}}),[removeData]),handleDeleteWorkspace=(0,react.useCallback)((async toDeleteWorkspaceId=>{setIsRemovingWorkspace(!0);try{await deleteWorkspace(toDeleteWorkspaceId)}catch(e){console.log("Error in deleting workspace",e)}finally{setRemoveWorkspaceModalVisible(!1),setIsRemovingWorkspace(!1)}}),[]),handleImport=(0,react.useCallback)((async data=>{await importData(data),onImported?.()}),[importData,onImported]),buttonDropdownItems=(0,react.useMemo)((()=>{const items=[];return singletonMode&&singletonPrimaryActionButtonConfig&&appMode!==configs.p$&&items.push({id:"exportAll",text:"Export data"}),singletonMode?items.push({id:"import",text:"Import"}):items.push({id:"add",text:"Add new workspace"},{id:"import",text:"Import into current workspace",disabled:(0,isWorkspaceExample.A)(currentWorkspace?.id)},{id:"clone",text:"Clone current workspace"},{id:"exportAll",text:embededMode?"Export all statements from current workspace":"Export data from current workspace",disabled:embededMode&&!enabledExportAll}),embededMode&&items.push({id:"exportFilteredList",text:"Export filtered statement list from current workspace",disabled:!enabledExportFiltered}),singletonMode?items.push({id:"removeAll",text:"Remove data"}):items.push({id:"removeAll",text:embededMode?"Remove all statements from current workspace":"Remove data from current workspace",disabled:embededMode&&!enabledRemoveAll||(0,isWorkspaceExample.A)(currentWorkspace?.id)}),singletonMode||items.push({id:"delete",text:"Delete workspace",disabled:!currentWorkspace||(0,isWorkspaceExample.A)(currentWorkspace.id)},{id:"renameWorkspace",text:"Rename workspace",disabled:!currentWorkspace||(0,isWorkspaceExample.A)(currentWorkspace.id)}),items}),[appMode,singletonMode,singletonPrimaryActionButtonConfig,embededMode,enabledRemoveAll,enabledExportAll,enabledExportFiltered,currentWorkspace]);return(0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(space_between.A,{direction:"horizontal",size:"xs",children:[!singletonMode&&(0,emotion_react_jsx_runtime_browser_esm.Y)(components_select.A,{controlId:"WorkspacesSelect",selectedOption:{value:currentWorkspace?.id||constants.AX,label:`Workspace: ${currentWorkspace?.name||constants.L7}`},options:workspacesOptions,onChange:handleSelectWorkspace}),singletonMode&&(0,emotion_react_jsx_runtime_browser_esm.Y)(components_button.A,{variant:"primary",onClick:handleSingletonPrimaryButtonClick,children:singletonPrimaryActionButtonConfig?singletonPrimaryActionButtonConfig.text:"Export data"}),children,buttonDropdownItems.length>0&&(0,emotion_react_jsx_runtime_browser_esm.Y)(button_dropdown.A,{items:buttonDropdownItems,ariaLabel:"More actions",variant:"icon",onItemClick:handleMoreActions}),"ide-extension"!==appMode&&"Full"===composerMode&&(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{css:WorkspaceSelector_styles.themeToggle,children:(0,emotion_react_jsx_runtime_browser_esm.Y)(generic_ThemeToggle,{})})]}),fileImportModalVisible&&(0,emotion_react_jsx_runtime_browser_esm.Y)(workspaces_FileImport,{composerMode,visible:fileImportModalVisible,setVisible:setFileImportModalVisible,onExport:exportAll,onImport:handleImport,onPreview,onPreviewClose}),addWorkspaceModalVisible&&(0,emotion_react_jsx_runtime_browser_esm.Y)(workspaces_EditWorkspace,{editMode:"add",visible:addWorkspaceModalVisible,setVisible:setAddWorkspaceModalVisible,onConfirm:async workspaceName=>{await addWorkspace(workspaceName)},workspaceList,exampleWorkspaceList:workspaceExamples}),cloneWorkspaceModalVisible&&(0,emotion_react_jsx_runtime_browser_esm.Y)(workspaces_EditWorkspace,{editMode:"clone",visible:cloneWorkspaceModalVisible,setVisible:setCloneWorkspaceModalVisible,onConfirm:async workspaceName=>{await cloneWorkspace(workspaceName)},workspaceList,exampleWorkspaceList:workspaceExamples}),editWorkspaceModalVisible&&currentWorkspace&&(0,emotion_react_jsx_runtime_browser_esm.Y)(workspaces_EditWorkspace,{editMode:"update",visible:editWorkspaceModalVisible,setVisible:setEditWorkspaceModalVisible,value:currentWorkspace.name,onConfirm:newWorkspaceName=>renameWorkspace(currentWorkspace.id,newWorkspaceName),currentWorkspace,workspaceList,exampleWorkspaceList:workspaceExamples}),removeDataModalVisible&&(0,emotion_react_jsx_runtime_browser_esm.Y)(DeleteConfirmationDialog.A,{variant:"friction",visible:removeDataModalVisible,title:"Delete data from current workspace?",onCancelClicked:()=>setRemoveDataModalVisible(!1),onDeleteClicked:handleRemoveData,deleteButtonText:"Remove data",children:(0,emotion_react_jsx_runtime_browser_esm.FD)(components_alert.A,{action:(0,emotion_react_jsx_runtime_browser_esm.Y)(components_button.A,{onClick:()=>exportAll(),children:"Export data"}),type:"warning",children:["Delete"," ",(0,emotion_react_jsx_runtime_browser_esm.FD)("b",{children:["Data from"," ",currentWorkspace?`workspace ${currentWorkspace.name}`:"Default workspace"]})," ","permenantly? This action cannot be undone.",(0,emotion_react_jsx_runtime_browser_esm.Y)("br",{}),"You can export the data to a json file as backup."]})}),removeWorkspaceModalVisible&&currentWorkspace&&(0,emotion_react_jsx_runtime_browser_esm.Y)(DeleteConfirmationDialog.A,{variant:"friction",visible:removeWorkspaceModalVisible,title:"Delete Workspace?",onCancelClicked:()=>setRemoveWorkspaceModalVisible(!1),onDeleteClicked:()=>handleDeleteWorkspace(currentWorkspace.id),loading:isRemovingWorkspace,deleteButtonText:"Delete workspace",children:(0,emotion_react_jsx_runtime_browser_esm.FD)(components_alert.A,{action:(0,emotion_react_jsx_runtime_browser_esm.Y)(components_button.A,{onClick:()=>exportAll(),children:"Export data"}),type:"warning",children:["Delete ",(0,emotion_react_jsx_runtime_browser_esm.FD)("b",{children:["workspace ",currentWorkspace?.name]})," permenantly? All the data inside workspace will be deleted. This action cannot be undone.",(0,emotion_react_jsx_runtime_browser_esm.Y)("br",{}),"You can export the data to a json file as backup."]})})]})},workspaces_WorkspaceSelector=WorkspaceSelector;try{WorkspaceSelector.displayName="WorkspaceSelector",WorkspaceSelector.__docgenInfo={description:"",displayName:"WorkspaceSelector",props:{embededMode:{defaultValue:{value:"true"},description:"",name:"embededMode",required:!1,type:{name:"boolean"}},enabledExportAll:{defaultValue:null,description:"",name:"enabledExportAll",required:!1,type:{name:"boolean"}},enabledRemoveAll:{defaultValue:null,description:"",name:"enabledRemoveAll",required:!1,type:{name:"boolean"}},enabledExportFiltered:{defaultValue:null,description:"",name:"enabledExportFiltered",required:!1,type:{name:"boolean"}},filteredThreats:{defaultValue:null,description:"",name:"filteredThreats",required:!1,type:{name:"{ id: string; numericId: number; displayOrder?: number; tags?: string[]; threatSource?: string | undefined; prerequisites?: string | undefined; threatAction?: string | undefined; ... 7 more ...; status?: string | undefined; }[] | undefined"}},singletonMode:{defaultValue:{value:"false"},description:"",name:"singletonMode",required:!1,type:{name:"boolean"}},singletonPrimaryActionButtonConfig:{defaultValue:null,description:"",name:"singletonPrimaryActionButtonConfig",required:!1,type:{name:'{ text: string; eventName?: string; onClick?: ((data: { schema: number; workspace?: { id: string; name: string; storageType?: "LocalState" | "LocalStorage"; metadata?: Record<...> | undefined; } | undefined; ... 8 more ...; brainstorm?: { ...; } | undefined; }) => void) | undefined; } | undef...'}},onPreview:{defaultValue:null,description:"",name:"onPreview",required:!1,type:{name:'((data: { schema: number; workspace?: { id: string; name: string; storageType?: "LocalState" | "LocalStorage"; metadata?: Record<string, never>; } | undefined; ... 8 more ...; brainstorm?: { ...; } | undefined; }) => void) | undefined'}},onPreviewClose:{defaultValue:null,description:"",name:"onPreviewClose",required:!1,type:{name:"(() => void)"}},onImported:{defaultValue:null,description:"",name:"onImported",required:!1,type:{name:"(() => void)"}},onClone:{defaultValue:null,description:"",name:"onClone",required:!1,type:{name:"(() => Promise<void>)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/workspaces/WorkspaceSelector/index.tsx#WorkspaceSelector"]={docgenInfo:WorkspaceSelector.__docgenInfo,name:"WorkspaceSelector",path:"src/components/workspaces/WorkspaceSelector/index.tsx#WorkspaceSelector"})}catch(__react_docgen_typescript_loader_error){}},"./src/containers/WorkspaceSelector/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});__webpack_require__("../../node_modules/react/index.js");var WorkspaceSelector=__webpack_require__("./src/components/workspaces/WorkspaceSelector/index.tsx"),configs=__webpack_require__("./src/configs/index.ts"),ContextAggregator=__webpack_require__("./src/contexts/ContextAggregator/index.tsx"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const WorkspaceSelector_WorkspaceSelector=({composerMode,appMode})=>(0,jsx_runtime.jsx)(ContextAggregator.A,{composerMode,children:(0,jsx_runtime.jsx)(WorkspaceSelector.A,{embededMode:!1,singletonMode:appMode===configs.f6||appMode===configs.p$,singletonPrimaryActionButtonConfig:appMode===configs.p$?{text:"Save",eventName:"save"}:void 0})});WorkspaceSelector_WorkspaceSelector.displayName="WorkspaceSelector";const containers_WorkspaceSelector=WorkspaceSelector_WorkspaceSelector;try{WorkspaceSelector_WorkspaceSelector.displayName="WorkspaceSelector",WorkspaceSelector_WorkspaceSelector.__docgenInfo={description:"",displayName:"WorkspaceSelector",props:{composerMode:{defaultValue:null,description:"",name:"composerMode",required:!0,type:{name:"string"}},appMode:{defaultValue:null,description:"",name:"appMode",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/WorkspaceSelector/index.tsx#WorkspaceSelector"]={docgenInfo:WorkspaceSelector_WorkspaceSelector.__docgenInfo,name:"WorkspaceSelector",path:"src/containers/WorkspaceSelector/index.tsx#WorkspaceSelector"})}catch(__react_docgen_typescript_loader_error){}const index_stories={title:"fullMode/WorkspaceSelector",component:containers_WorkspaceSelector},Default={args:{composerMode:"Full"}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    composerMode: 'Full'\n  }\n}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./src/hooks/useContentValidation/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_utils_sanitizeHtml__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/sanitizeHtml/index.ts");const __WEBPACK_DEFAULT_EXPORT__=(value,onChange,validateData)=>{const[tempValue,setTempValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(value),[errorText,setErrorText]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("");(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setTempValue(value),value||setErrorText("")}),[value]);return{tempValue,handleChange:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(((eventData,initialMarkdownNormalize)=>{if(!0===initialMarkdownNormalize)return;let newValue="string"==typeof eventData?eventData:eventData.detail.value;newValue=newValue.split("\n").map((line=>line.endsWith("&#x20;")?line.slice(0,-6):line)).join("\n"),setTempValue(newValue);if((0,_utils_sanitizeHtml__WEBPACK_IMPORTED_MODULE_1__.A)(newValue)===newValue){if(validateData){const validation=validateData(newValue);if(!validation.success)return void setErrorText(validation.error.issues.map((i=>i.message)).join("; "))}setErrorText(""),onChange&&onChange?.("string"==typeof eventData?newValue:eventData)}else setErrorText("Html tags not supported")}),[setTempValue,setErrorText,onChange,validateData]),errorText}}}}]);