{"version":3,"file":"static/js/7018.4cfcec0e.chunk.js","mappings":"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","sources":["../../../node_modules/@codesandbox/sandpack-client/dist/clients/runtime/index.mjs","../../../node_modules/@codesandbox/sandpack-client/dist/base-80a1f760.mjs","../../../node_modules/mime-db/index.js"],"sourcesContent":["import { _ as __awaiter, a as __generator, h as __assign, i as __spreadArray, g as __extends, b as createPackageJSON, c as createError, S as SandpackLogLevel, d as addPackageJSONIfNeeded, n as nullthrows, e as extractErrorDetails } from '../../utils-52664384.mjs';\nimport { dequal } from 'dequal';\nimport { S as SandpackClient } from '../../base-80a1f760.mjs';\nimport mimeDB from 'mime-db';\nimport 'outvariant';\n\n/**\n * This file is a copy of the resolver from the `codesandbox-api` package.\n * We wanted to avoid to reference codesandbox-api because of the code that runs on load in the package.\n * The plan is to take some time and refactor codesandbox-api into what it was supposed to be in the first place,\n * an abstraction over the actions that can be dispatched between the bundler and the iframe.\n */\nvar Protocol = /** @class */ (function () {\n    function Protocol(type, handleMessage, protocol) {\n        var _this = this;\n        this.type = type;\n        this.handleMessage = handleMessage;\n        this.protocol = protocol;\n        this._disposeMessageListener = this.protocol.channelListen(function (msg) { return __awaiter(_this, void 0, void 0, function () {\n            var message, result, response, err_1, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(msg.type === this.getTypeId() && msg.method)) return [3 /*break*/, 4];\n                        message = msg;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.handleMessage(message)];\n                    case 2:\n                        result = _a.sent();\n                        response = {\n                            type: this.getTypeId(),\n                            msgId: message.msgId,\n                            result: result,\n                        };\n                        this.protocol.dispatch(response);\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_1 = _a.sent();\n                        response = {\n                            type: this.getTypeId(),\n                            msgId: message.msgId,\n                            error: {\n                                message: err_1.message,\n                            },\n                        };\n                        this.protocol.dispatch(response);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); });\n    }\n    Protocol.prototype.getTypeId = function () {\n        return \"protocol-\".concat(this.type);\n    };\n    Protocol.prototype.dispose = function () {\n        this._disposeMessageListener();\n    };\n    return Protocol;\n}());\n\nvar IFrameProtocol = /** @class */ (function () {\n    function IFrameProtocol(iframe, origin) {\n        // React to messages from any iframe\n        this.globalListeners = {};\n        this.globalListenersCount = 0;\n        // React to messages from the iframe owned by this instance\n        this.channelListeners = {};\n        this.channelListenersCount = 0;\n        // Random number to identify this instance of the client when messages are coming from multiple iframes\n        this.channelId = Math.floor(Math.random() * 1000000);\n        this.frameWindow = iframe.contentWindow;\n        this.origin = origin;\n        this.globalListeners = [];\n        this.channelListeners = [];\n        this.eventListener = this.eventListener.bind(this);\n        if (typeof window !== \"undefined\") {\n            window.addEventListener(\"message\", this.eventListener);\n        }\n    }\n    IFrameProtocol.prototype.cleanup = function () {\n        window.removeEventListener(\"message\", this.eventListener);\n        this.globalListeners = {};\n        this.channelListeners = {};\n        this.globalListenersCount = 0;\n        this.channelListenersCount = 0;\n    };\n    // Sends the channelId and triggers an iframeHandshake promise to resolve,\n    // so the iframe can start listening for messages (based on the id)\n    IFrameProtocol.prototype.register = function () {\n        if (!this.frameWindow) {\n            return;\n        }\n        this.frameWindow.postMessage({\n            type: \"register-frame\",\n            origin: document.location.origin,\n            id: this.channelId,\n        }, this.origin);\n    };\n    // Messages are dispatched from the client directly to the instance iframe\n    IFrameProtocol.prototype.dispatch = function (message) {\n        if (!this.frameWindow) {\n            return;\n        }\n        this.frameWindow.postMessage(__assign({ $id: this.channelId, codesandbox: true }, message), this.origin);\n    };\n    // Add a listener that is called on any message coming from an iframe in the page\n    // This is needed for the `initialize` message which comes without a channelId\n    IFrameProtocol.prototype.globalListen = function (listener) {\n        var _this = this;\n        if (typeof listener !== \"function\") {\n            return function () {\n                return;\n            };\n        }\n        var listenerId = this.globalListenersCount;\n        this.globalListeners[listenerId] = listener;\n        this.globalListenersCount++;\n        return function () {\n            delete _this.globalListeners[listenerId];\n        };\n    };\n    // Add a listener that is called on any message coming from an iframe with the instance channelId\n    // All other messages (eg: from other iframes) are ignored\n    IFrameProtocol.prototype.channelListen = function (listener) {\n        var _this = this;\n        if (typeof listener !== \"function\") {\n            return function () {\n                return;\n            };\n        }\n        var listenerId = this.channelListenersCount;\n        this.channelListeners[listenerId] = listener;\n        this.channelListenersCount++;\n        return function () {\n            delete _this.channelListeners[listenerId];\n        };\n    };\n    // Handles message windows coming from iframes\n    IFrameProtocol.prototype.eventListener = function (evt) {\n        // skip events originating from different iframes\n        if (evt.source !== this.frameWindow) {\n            return;\n        }\n        var message = evt.data;\n        if (!message.codesandbox) {\n            return;\n        }\n        Object.values(this.globalListeners).forEach(function (listener) {\n            return listener(message);\n        });\n        if (message.$id !== this.channelId) {\n            return;\n        }\n        Object.values(this.channelListeners).forEach(function (listener) {\n            return listener(message);\n        });\n    };\n    return IFrameProtocol;\n}());\n\nvar extensionMap = new Map();\nvar entries = Object.entries(mimeDB);\nfor (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n    var _a$1 = entries_1[_i], mimetype = _a$1[0], entry = _a$1[1];\n    // eslint-disable-next-line\n    // @ts-ignore\n    if (!entry.extensions) {\n        continue;\n    }\n    // eslint-disable-next-line\n    // @ts-ignore\n    var extensions = entry.extensions;\n    if (extensions.length) {\n        for (var _b = 0, extensions_1 = extensions; _b < extensions_1.length; _b++) {\n            var ext = extensions_1[_b];\n            extensionMap.set(ext, mimetype);\n        }\n    }\n}\nvar EXTENSIONS_MAP = extensionMap;\n\nvar CHANNEL_NAME = \"$CSB_RELAY\";\n\nvar MAX_CLIENT_DEPENDENCY_COUNT = 50;\nfunction getTemplate(pkg, \n/* eslint-disable @typescript-eslint/no-explicit-any */\nmodules) {\n    if (!pkg) {\n        return \"static\";\n    }\n    var _a = pkg.dependencies, dependencies = _a === void 0 ? {} : _a, _b = pkg.devDependencies, devDependencies = _b === void 0 ? {} : _b;\n    var totalDependencies = __spreadArray(__spreadArray([], Object.keys(dependencies), true), Object.keys(devDependencies), true);\n    var moduleNames = Object.keys(modules);\n    var adonis = [\"@adonisjs/framework\", \"@adonisjs/core\"];\n    if (totalDependencies.some(function (dep) { return adonis.indexOf(dep) > -1; })) {\n        return \"adonis\";\n    }\n    var nuxt = [\"nuxt\", \"nuxt-edge\", \"nuxt-ts\", \"nuxt-ts-edge\", \"nuxt3\"];\n    if (totalDependencies.some(function (dep) { return nuxt.indexOf(dep) > -1; })) {\n        return \"nuxt\";\n    }\n    if (totalDependencies.indexOf(\"next\") > -1) {\n        return \"next\";\n    }\n    var apollo = [\n        \"apollo-server\",\n        \"apollo-server-express\",\n        \"apollo-server-hapi\",\n        \"apollo-server-koa\",\n        \"apollo-server-lambda\",\n        \"apollo-server-micro\",\n    ];\n    if (totalDependencies.some(function (dep) { return apollo.indexOf(dep) > -1; })) {\n        return \"apollo\";\n    }\n    if (totalDependencies.indexOf(\"mdx-deck\") > -1) {\n        return \"mdx-deck\";\n    }\n    if (totalDependencies.indexOf(\"gridsome\") > -1) {\n        return \"gridsome\";\n    }\n    if (totalDependencies.indexOf(\"vuepress\") > -1) {\n        return \"vuepress\";\n    }\n    if (totalDependencies.indexOf(\"ember-cli\") > -1) {\n        return \"ember\";\n    }\n    if (totalDependencies.indexOf(\"sapper\") > -1) {\n        return \"sapper\";\n    }\n    if (totalDependencies.indexOf(\"gatsby\") > -1) {\n        return \"gatsby\";\n    }\n    if (totalDependencies.indexOf(\"quasar\") > -1) {\n        return \"quasar\";\n    }\n    if (totalDependencies.indexOf(\"@docusaurus/core\") > -1) {\n        return \"docusaurus\";\n    }\n    if (totalDependencies.indexOf(\"remix\") > -1) {\n        return \"remix\";\n    }\n    if (totalDependencies.indexOf(\"astro\") > -1) {\n        return \"node\";\n    }\n    // CLIENT\n    if (moduleNames.some(function (m) { return m.endsWith(\".re\"); })) {\n        return \"reason\";\n    }\n    var parcel = [\"parcel-bundler\", \"parcel\"];\n    if (totalDependencies.some(function (dep) { return parcel.indexOf(dep) > -1; })) {\n        return \"parcel\";\n    }\n    var dojo = [\"@dojo/core\", \"@dojo/framework\"];\n    if (totalDependencies.some(function (dep) { return dojo.indexOf(dep) > -1; })) {\n        return \"@dojo/cli-create-app\";\n    }\n    if (totalDependencies.indexOf(\"@nestjs/core\") > -1 ||\n        totalDependencies.indexOf(\"@nestjs/common\") > -1) {\n        return \"nest\";\n    }\n    if (totalDependencies.indexOf(\"react-styleguidist\") > -1) {\n        return \"styleguidist\";\n    }\n    if (totalDependencies.indexOf(\"react-scripts\") > -1) {\n        return \"create-react-app\";\n    }\n    if (totalDependencies.indexOf(\"react-scripts-ts\") > -1) {\n        return \"create-react-app-typescript\";\n    }\n    if (totalDependencies.indexOf(\"@angular/core\") > -1) {\n        return \"angular-cli\";\n    }\n    if (totalDependencies.indexOf(\"preact-cli\") > -1) {\n        return \"preact-cli\";\n    }\n    if (totalDependencies.indexOf(\"@sveltech/routify\") > -1 ||\n        totalDependencies.indexOf(\"@roxi/routify\") > -1) {\n        return \"node\";\n    }\n    if (totalDependencies.indexOf(\"vite\") > -1) {\n        return \"node\";\n    }\n    if (totalDependencies.indexOf(\"@frontity/core\") > -1) {\n        return \"node\";\n    }\n    if (totalDependencies.indexOf(\"svelte\") > -1) {\n        return \"svelte\";\n    }\n    if (totalDependencies.indexOf(\"vue\") > -1) {\n        return \"vue-cli\";\n    }\n    if (totalDependencies.indexOf(\"cx\") > -1) {\n        return \"cxjs\";\n    }\n    var nodeDeps = [\n        \"express\",\n        \"koa\",\n        \"nodemon\",\n        \"ts-node\",\n        \"@tensorflow/tfjs-node\",\n        \"webpack-dev-server\",\n        \"snowpack\",\n    ];\n    if (totalDependencies.some(function (dep) { return nodeDeps.indexOf(dep) > -1; })) {\n        return \"node\";\n    }\n    if (Object.keys(dependencies).length >= MAX_CLIENT_DEPENDENCY_COUNT) {\n        // The dependencies are too much for client sandboxes to handle\n        return \"node\";\n    }\n    return undefined;\n}\nfunction getExtension(filepath) {\n    var parts = filepath.split(\".\");\n    if (parts.length <= 1) {\n        return \"\";\n    }\n    else {\n        var ext = parts[parts.length - 1];\n        return ext;\n    }\n}\n\nvar _a;\nvar SUFFIX_PLACEHOLDER = \"-{{suffix}}\";\nvar BUNDLER_URL = \"https://\".concat((_a = \"2.19.8\") === null || _a === void 0 ? void 0 : _a.replace(/\\./g, \"-\")).concat(SUFFIX_PLACEHOLDER, \"-sandpack.codesandbox.io/\");\nvar SandpackRuntime = /** @class */ (function (_super) {\n    __extends(SandpackRuntime, _super);\n    function SandpackRuntime(selector, sandboxSetup, options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, selector, sandboxSetup, options) || this;\n        _this.getTranspilerContext = function () {\n            return new Promise(function (resolve) {\n                var unsubscribe = _this.listen(function (message) {\n                    if (message.type === \"transpiler-context\") {\n                        resolve(message.data);\n                        unsubscribe();\n                    }\n                });\n                _this.dispatch({ type: \"get-transpiler-context\" });\n            });\n        };\n        _this.getTranspiledFiles = function () {\n            return new Promise(function (resolve) {\n                var unsubscribe = _this.listen(function (message) {\n                    if (message.type === \"all-modules\") {\n                        resolve(message.data);\n                        unsubscribe();\n                    }\n                });\n                _this.dispatch({ type: \"get-modules\" });\n            });\n        };\n        _this.bundlerURL = _this.createBundlerURL();\n        _this.bundlerState = undefined;\n        _this.errors = [];\n        _this.status = \"initializing\";\n        if (typeof selector === \"string\") {\n            _this.selector = selector;\n            var element = document.querySelector(selector);\n            nullthrows(element, \"The element '\".concat(selector, \"' was not found\"));\n            _this.element = element;\n            _this.iframe = document.createElement(\"iframe\");\n            _this.initializeElement();\n        }\n        else {\n            _this.element = selector;\n            _this.iframe = selector;\n        }\n        if (!_this.iframe.getAttribute(\"sandbox\")) {\n            _this.iframe.setAttribute(\"sandbox\", \"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts allow-downloads allow-pointer-lock\");\n            _this.iframe.setAttribute(\"allow\", \"accelerometer; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; clipboard-read; clipboard-write; xr-spatial-tracking;\");\n        }\n        _this.setLocationURLIntoIFrame();\n        _this.iframeProtocol = new IFrameProtocol(_this.iframe, _this.bundlerURL);\n        _this.unsubscribeGlobalListener = _this.iframeProtocol.globalListen(function (mes) {\n            if (mes.type !== \"initialized\" || !_this.iframe.contentWindow) {\n                return;\n            }\n            _this.iframeProtocol.register();\n            if (_this.options.fileResolver) {\n                _this.fileResolverProtocol = new Protocol(\"fs\", function (data) { return __awaiter(_this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        if (data.method === \"isFile\") {\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            return [2 /*return*/, this.options.fileResolver.isFile(data.params[0])];\n                        }\n                        else if (data.method === \"readFile\") {\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            return [2 /*return*/, this.options.fileResolver.readFile(data.params[0])];\n                        }\n                        else {\n                            throw new Error(\"Method not supported\");\n                        }\n                    });\n                }); }, _this.iframeProtocol);\n            }\n            _this.updateSandbox(_this.sandboxSetup, true);\n        });\n        _this.unsubscribeChannelListener = _this.iframeProtocol.channelListen(function (mes) {\n            switch (mes.type) {\n                case \"start\": {\n                    _this.errors = [];\n                    break;\n                }\n                case \"status\": {\n                    _this.status = mes.status;\n                    break;\n                }\n                case \"action\": {\n                    if (mes.action === \"show-error\") {\n                        _this.errors = __spreadArray(__spreadArray([], _this.errors, true), [extractErrorDetails(mes)], false);\n                    }\n                    break;\n                }\n                case \"done\": {\n                    _this.status = \"done\";\n                    break;\n                }\n                case \"state\": {\n                    _this.bundlerState = mes.state;\n                    break;\n                }\n            }\n        });\n        if (options.experimental_enableServiceWorker) {\n            _this.serviceWorkerHandshake();\n        }\n        return _this;\n    }\n    SandpackRuntime.prototype.createBundlerURL = function () {\n        var _a;\n        var bundlerURL = this.options.bundlerURL || BUNDLER_URL;\n        // if it's a custom, skip the rest\n        if (this.options.bundlerURL) {\n            return bundlerURL;\n        }\n        if (this.options.teamId) {\n            bundlerURL =\n                bundlerURL.replace(\"https://\", \"https://\" + this.options.teamId + \"-\") +\n                    \"?cache=\".concat(Date.now());\n        }\n        if (this.options.experimental_enableServiceWorker) {\n            var suffixes = [];\n            suffixes.push(Math.random().toString(36).slice(4));\n            bundlerURL = bundlerURL.replace(SUFFIX_PLACEHOLDER, \"-\".concat((_a = this.options.experimental_stableServiceWorkerId) !== null && _a !== void 0 ? _a : suffixes.join(\"-\")));\n        }\n        else {\n            bundlerURL = bundlerURL.replace(SUFFIX_PLACEHOLDER, \"\");\n        }\n        return bundlerURL;\n    };\n    SandpackRuntime.prototype.serviceWorkerHandshake = function () {\n        var _this = this;\n        var channel = new MessageChannel();\n        var iframeContentWindow = this.iframe.contentWindow;\n        if (!iframeContentWindow) {\n            throw new Error(\"Could not get iframe contentWindow\");\n        }\n        var port = channel.port1;\n        port.onmessage = function (evt) {\n            if (typeof evt.data === \"object\" && evt.data.$channel === CHANNEL_NAME) {\n                switch (evt.data.$type) {\n                    case \"preview/ready\":\n                        // no op for now\n                        break;\n                    case \"preview/request\":\n                        _this.handleWorkerRequest(evt.data, port);\n                        break;\n                }\n            }\n        };\n        var sendMessage = function () {\n            var initMsg = {\n                $channel: CHANNEL_NAME,\n                $type: \"preview/init\",\n            };\n            iframeContentWindow.postMessage(initMsg, \"*\", [channel.port2]);\n            _this.iframe.removeEventListener(\"load\", sendMessage);\n        };\n        this.iframe.addEventListener(\"load\", sendMessage);\n    };\n    SandpackRuntime.prototype.handleWorkerRequest = function (request, port) {\n        return __awaiter(this, void 0, void 0, function () {\n            var notFound, filepath_1, headers, files, file, modulesFromManager, body, extension, foundMimetype, responseMessage, err_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        notFound = function () {\n                            var responseMessage = {\n                                $channel: CHANNEL_NAME,\n                                $type: \"preview/response\",\n                                id: request.id,\n                                headers: {\n                                    \"Content-Type\": \"text/html; charset=utf-8\",\n                                },\n                                status: 404,\n                                body: \"File not found\",\n                            };\n                            port.postMessage(responseMessage);\n                        };\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 4, , 5]);\n                        filepath_1 = new URL(request.url, this.bundlerURL).pathname;\n                        headers = {};\n                        files = this.getFiles();\n                        file = files[filepath_1];\n                        if (!!file) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this.getTranspiledFiles()];\n                    case 2:\n                        modulesFromManager = _a.sent();\n                        file = modulesFromManager.find(function (item) {\n                            return item.path.endsWith(filepath_1);\n                        });\n                        if (!file) {\n                            notFound();\n                            return [2 /*return*/];\n                        }\n                        _a.label = 3;\n                    case 3:\n                        body = file.code;\n                        if (!headers[\"Content-Type\"]) {\n                            extension = getExtension(filepath_1);\n                            foundMimetype = EXTENSIONS_MAP.get(extension);\n                            if (foundMimetype) {\n                                headers[\"Content-Type\"] = foundMimetype;\n                            }\n                        }\n                        responseMessage = {\n                            $channel: CHANNEL_NAME,\n                            $type: \"preview/response\",\n                            id: request.id,\n                            headers: headers,\n                            status: 200,\n                            body: body,\n                        };\n                        port.postMessage(responseMessage);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        err_1 = _a.sent();\n                        console.error(err_1);\n                        notFound();\n                        return [3 /*break*/, 5];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SandpackRuntime.prototype.setLocationURLIntoIFrame = function () {\n        var _a;\n        var urlSource = this.options.startRoute\n            ? new URL(this.options.startRoute, this.bundlerURL).toString()\n            : this.bundlerURL;\n        (_a = this.iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.location.replace(urlSource);\n        this.iframe.src = urlSource;\n    };\n    SandpackRuntime.prototype.destroy = function () {\n        this.unsubscribeChannelListener();\n        this.unsubscribeGlobalListener();\n        this.iframeProtocol.cleanup();\n    };\n    SandpackRuntime.prototype.updateOptions = function (options) {\n        if (!dequal(this.options, options)) {\n            this.options = options;\n            this.updateSandbox();\n        }\n    };\n    SandpackRuntime.prototype.updateSandbox = function (sandboxSetup, isInitializationCompile) {\n        var _a, _b, _c, _d;\n        if (sandboxSetup === void 0) { sandboxSetup = this.sandboxSetup; }\n        this.sandboxSetup = __assign(__assign({}, this.sandboxSetup), sandboxSetup);\n        var files = this.getFiles();\n        var modules = Object.keys(files).reduce(function (prev, next) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[next] = {\n                code: files[next].code,\n                path: next,\n            }, _a)));\n        }, {});\n        var packageJSON = JSON.parse(createPackageJSON(this.sandboxSetup.dependencies, this.sandboxSetup.devDependencies, this.sandboxSetup.entry));\n        try {\n            packageJSON = JSON.parse(files[\"/package.json\"].code);\n        }\n        catch (e) {\n            console.error(createError(\"could not parse package.json file: \" + e.message));\n        }\n        // TODO move this to a common format\n        var normalizedModules = Object.keys(files).reduce(function (prev, next) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[next] = {\n                content: files[next].code,\n                path: next,\n            }, _a)));\n        }, {});\n        this.dispatch(__assign(__assign({}, this.options), { type: \"compile\", codesandbox: true, version: 3, isInitializationCompile: isInitializationCompile, modules: modules, reactDevTools: this.options.reactDevTools, externalResources: this.options.externalResources || [], hasFileResolver: Boolean(this.options.fileResolver), disableDependencyPreprocessing: this.sandboxSetup.disableDependencyPreprocessing, experimental_enableServiceWorker: this.options.experimental_enableServiceWorker, template: this.sandboxSetup.template ||\n                getTemplate(packageJSON, normalizedModules), showOpenInCodeSandbox: (_a = this.options.showOpenInCodeSandbox) !== null && _a !== void 0 ? _a : true, showErrorScreen: (_b = this.options.showErrorScreen) !== null && _b !== void 0 ? _b : true, showLoadingScreen: (_c = this.options.showLoadingScreen) !== null && _c !== void 0 ? _c : false, skipEval: this.options.skipEval || false, clearConsoleDisabled: !this.options.clearConsoleOnFirstCompile, logLevel: (_d = this.options.logLevel) !== null && _d !== void 0 ? _d : SandpackLogLevel.Info, customNpmRegistries: this.options.customNpmRegistries, teamId: this.options.teamId, sandboxId: this.options.sandboxId }));\n    };\n    SandpackRuntime.prototype.dispatch = function (message) {\n        /**\n         * Intercept \"refresh\" dispatch: this will make sure\n         * that the iframe is still in the location it's supposed to be.\n         * External links inside the iframe will change the location and\n         * prevent the user from navigating back.\n         */\n        if (message.type === \"refresh\") {\n            this.setLocationURLIntoIFrame();\n            if (this.options.experimental_enableServiceWorker) {\n                this.serviceWorkerHandshake();\n            }\n        }\n        this.iframeProtocol.dispatch(message);\n    };\n    SandpackRuntime.prototype.listen = function (listener) {\n        return this.iframeProtocol.channelListen(listener);\n    };\n    /**\n     * Get the URL of the contents of the current sandbox\n     */\n    SandpackRuntime.prototype.getCodeSandboxURL = function () {\n        var files = this.getFiles();\n        var paramFiles = Object.keys(files).reduce(function (prev, next) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[next.replace(\"/\", \"\")] = {\n                content: files[next].code,\n                isBinary: false,\n            }, _a)));\n        }, {});\n        return fetch(\"https://codesandbox.io/api/v1/sandboxes/define?json=1\", {\n            method: \"POST\",\n            body: JSON.stringify({ files: paramFiles }),\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n            },\n        })\n            .then(function (x) { return x.json(); })\n            .then(function (res) { return ({\n            sandboxId: res.sandbox_id,\n            editorUrl: \"https://codesandbox.io/s/\".concat(res.sandbox_id),\n            embedUrl: \"https://codesandbox.io/embed/\".concat(res.sandbox_id),\n        }); });\n    };\n    SandpackRuntime.prototype.getFiles = function () {\n        var sandboxSetup = this.sandboxSetup;\n        if (sandboxSetup.files[\"/package.json\"] === undefined) {\n            return addPackageJSONIfNeeded(sandboxSetup.files, sandboxSetup.dependencies, sandboxSetup.devDependencies, sandboxSetup.entry);\n        }\n        return this.sandboxSetup.files;\n    };\n    SandpackRuntime.prototype.initializeElement = function () {\n        this.iframe.style.border = \"0\";\n        this.iframe.style.width = this.options.width || \"100%\";\n        this.iframe.style.height = this.options.height || \"100%\";\n        this.iframe.style.overflow = \"hidden\";\n        nullthrows(this.element.parentNode, \"The given iframe does not have a parent.\");\n        this.element.parentNode.replaceChild(this.iframe, this.element);\n    };\n    return SandpackRuntime;\n}(SandpackClient));\n\nexport { SandpackRuntime };\n","import { dequal } from 'dequal';\n\nvar SandpackClient = /** @class */ (function () {\n    function SandpackClient(iframeSelector, sandboxSetup, options) {\n        if (options === void 0) { options = {}; }\n        this.status = \"idle\";\n        this.options = options;\n        this.sandboxSetup = sandboxSetup;\n        this.iframeSelector = iframeSelector;\n    }\n    /**\n     * Clients handles\n     */\n    SandpackClient.prototype.updateOptions = function (options) {\n        if (!dequal(this.options, options)) {\n            this.options = options;\n            this.updateSandbox();\n        }\n    };\n    SandpackClient.prototype.updateSandbox = function (_sandboxSetup, _isInitializationCompile) {\n        if (_sandboxSetup === void 0) { _sandboxSetup = this.sandboxSetup; }\n        throw Error(\"Method not implemented\");\n    };\n    SandpackClient.prototype.destroy = function () {\n        throw Error(\"Method not implemented\");\n    };\n    /**\n     * Bundler communication\n     */\n    SandpackClient.prototype.dispatch = function (_message) {\n        throw Error(\"Method not implemented\");\n    };\n    SandpackClient.prototype.listen = function (_listener) {\n        throw Error(\"Method not implemented\");\n    };\n    return SandpackClient;\n}());\n\nexport { SandpackClient as S };\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n"],"names":["Protocol","type","handleMessage","protocol","_this","this","_disposeMessageListener","channelListen","msg","__awaiter","message","result","err_1","response","__generator","_a","label","getTypeId","method","trys","push","sent","msgId","dispatch","error","prototype","concat","dispose","IFrameProtocol","iframe","origin","globalListeners","globalListenersCount","channelListeners","channelListenersCount","channelId","Math","floor","random","frameWindow","contentWindow","eventListener","bind","window","addEventListener","cleanup","removeEventListener","register","postMessage","document","location","id","__assign","$id","codesandbox","globalListen","listener","listenerId","evt","source","data","Object","values","forEach","extensionMap","Map","_i","entries_1","entries","mimeDB","length","_a$1","mimetype","entry","extensions","_b","extensions_1","ext","set","EXTENSIONS_MAP","CHANNEL_NAME","getTemplate","pkg","modules","dependencies","devDependencies","totalDependencies","__spreadArray","keys","moduleNames","adonis","some","dep","indexOf","nuxt","apollo","m","endsWith","parcel","dojo","nodeDeps","SUFFIX_PLACEHOLDER","BUNDLER_URL","replace","SandpackRuntime","_super","selector","sandboxSetup","options","call","getTranspilerContext","Promise","resolve","unsubscribe","listen","getTranspiledFiles","bundlerURL","createBundlerURL","bundlerState","undefined","errors","status","element","querySelector","nullthrows","createElement","initializeElement","getAttribute","setAttribute","setLocationURLIntoIFrame","iframeProtocol","unsubscribeGlobalListener","mes","fileResolver","fileResolverProtocol","isFile","params","readFile","Error","updateSandbox","unsubscribeChannelListener","action","extractErrorDetails","state","experimental_enableServiceWorker","serviceWorkerHandshake","__extends","teamId","Date","now","suffixes","toString","slice","experimental_stableServiceWorkerId","join","channel","MessageChannel","iframeContentWindow","port","port1","onmessage","$channel","$type","handleWorkerRequest","sendMessage","initMsg","port2","request","notFound","filepath_1","headers","files","file","modulesFromManager","body","extension","foundMimetype","responseMessage","URL","url","pathname","getFiles","find","item","path","code","filepath","parts","split","getExtension","get","console","urlSource","startRoute","src","destroy","updateOptions","dequal","isInitializationCompile","_c","_d","reduce","prev","next","packageJSON","JSON","parse","createPackageJSON","e","createError","normalizedModules","content","version","reactDevTools","externalResources","hasFileResolver","Boolean","disableDependencyPreprocessing","template","showOpenInCodeSandbox","showErrorScreen","showLoadingScreen","skipEval","clearConsoleDisabled","clearConsoleOnFirstCompile","logLevel","SandpackLogLevel","Info","customNpmRegistries","sandboxId","getCodeSandboxURL","paramFiles","isBinary","fetch","stringify","Accept","then","x","json","res","sandbox_id","editorUrl","embedUrl","addPackageJSONIfNeeded","style","border","width","height","overflow","parentNode","replaceChild","SandpackClient","iframeSelector","_sandboxSetup","_isInitializationCompile","_message","_listener","module","exports"],"sourceRoot":""}